<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>
    <script>
        function openAppOrRedirect(appSchema, appStoreUrl, fallbackUrl) {
            if (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream) {
                // iOS 기기인 경우 앱 스키마 호출
                var startTime = Date.now();
                var iframe = document.createElement("iframe");
                iframe.style.display = "none";
                iframe.src = appSchema;
                document.body.appendChild(iframe);

                var timer = setTimeout(function () {
                    if (Date.now() - startTime > 2000) {
                        window.location.replace(appStoreUrl || fallbackUrl);
                    }
                    document.body.removeChild(iframe);
                }, 1500);

                window.addEventListener("blur", function () {
                    clearTimeout(timer);
                });
            } else {
                // iOS 기기가 아닌 경우 앱 스토어 URL로 리디렉션
                window.location.replace(appStoreUrl);
            }
        }

        function goToAppStore(appStoreUrl) {
            window.location.replace(appStoreUrl);
        }
    </script>
</head>
<body>
    <p>Hello, World!2</p>
    <button onclick="openAppOrRedirect('kakaotalk://', 'https://apps.apple.com/kr/app/kakaotalk/id362057947', 'https://yourwebsite.com/fallback')">카카오톡 열기/설치</button>
    <button onclick="goToAppStore('https://apps.apple.com/kr/app/kakaotalk/id362057947')">스토어로 이동</button>
</body>
</html>